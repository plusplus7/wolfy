(()=>{"use strict";var e,r,t,n,s={8176:function(e,r,t){var n=t(4848),s=t(6540),o=t(5338);t(3206);var a=t(3896),l=t(3048),i=t(4479),c=t(1105),d=t(9851),f=t(1162);let u=new class{async tickets(){return(await f.A.get(this.url+"/tickets")).data.data.tickets}async messages(){return(await f.A.get(this.url+"/messages")).data.data.messages}async sysInfo(){return(await f.A.get(this.url+"/sysinfo")).data.data}async event(e,r,t){return(await f.A.get(`${this.url}/event/${e}/${r}/${t}`)).data.data.tickets}constructor(e){(0,d._)(this,"url",void 0),this.url=e}}("http://localhost:41377/api");var h=t(3502),g=t(1249),x=t(2431),m=t(6052);let p={default:{color:{},name:`等待选择`},等待选择:{color:{backgroundColor:"#f64849"},name:`等待点歌`},"流行&动漫":{color:{backgroundColor:"#ff972a"},name:`流行动漫`},"niconico＆VOCALOID™":{color:{backgroundColor:"#02c8d3"},name:"niconico"},舞萌:{color:{backgroundColor:"#f64849"},name:"maimai"},东方Project:{color:{backgroundColor:"#ad59ee"},name:`东方`},其他游戏:{color:{backgroundColor:"#4be070"},name:`其他游戏`},"音击/中二节奏":{color:{backgroundColor:"#3584fe"},name:`音击/中二`},宴会場:{color:{backgroundColor:"#e54447ff"},name:`宴会場`}},b={std:{backgroundColor:"#3584fe"},dx:{backgroundColor:"#ffffff",color:"#FFBA84"}},j={mas:{backgroundColor:"#a051dc",color:"#ffffff"},exp:{backgroundColor:"#ff828d",color:"#ffffff"},adv:{backgroundColor:"#f7b807",color:"#000000"},bas:{backgroundColor:"#6ed43e",color:"#ffffff"},remas:{backgroundColor:"#ffffff",color:"#a051dc"}};function y(e){return j[e.split("_")[1]]}function v(e){let{ticket:r,index:t}=e,s={cursor:"pointer",lineHeight:"11px",fontSize:11,display:"inline-block","--bs-badge-padding-x":"0.2em","--bs-badge-padding-y":"0.1em","--bs-card-spacer-y":"0em","--bs-card-spacer-x":"0em"},o={lineHeight:"13.5px"};return(0,n.jsxs)(g.A,{children:[(0,n.jsx)("div",{className:"card-img-top",style:{aspectRatio:"1/1",width:"84px",backgroundSize:"contain",backgroundImage:`url(${r.image})`},children:(0,n.jsxs)(x.A,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginBottom:0,marginTop:0},children:[(0,n.jsx)("tr",{style:o,onClick:async()=>await u.event("主播","click_cover_info",`${t}`),children:(0,n.jsx)(m.A,{bg:"unknsown",style:{...s,...b[r.cover_info]},title:"删除",children:r.cover_info.toUpperCase()})}),(0,n.jsx)("tr",{style:o,children:"\xa0"}),(0,n.jsx)("tr",{style:o,children:"\xa0"}),(0,n.jsx)("tr",{style:o,children:"\xa0"}),(0,n.jsx)("tr",{style:o,children:"\xa0"}),(0,n.jsxs)("tr",{style:o,children:[(0,n.jsx)(m.A,{bg:"unkno1wn",style:{...s,...p[r.genre_info].color},onClick:async()=>await u.event("主播","click_genre_info",`${t}`),title:"切换歌曲",children:p[r.genre_info].name}),(0,n.jsx)(m.A,{bg:"unkno2wn",style:{...s,...y(r.song_info)},onClick:async()=>await u.event("主播","click_song_info",`${t}`),title:"切换等级",children:r.song_info.split("_")[0]})]})]})}),(0,n.jsx)(g.A.Body,{style:{width:"84px","--bs-card-spacer-y":"0.0em","--bs-card-spacer-x":"0.25em",...y(r.song_info)},children:(0,n.jsx)(x.A,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginBottom:0,marginTop:0,"--bs-card-spacer-x":"0em"},children:(0,n.jsx)("tr",{style:{lineHeight:"18px","--bs-card-spacer-x":"0.25em",...y(r.song_info)},children:(0,n.jsxs)("marquee",{className:"row g-0",children:[r.keyword," - ",r.title]})})})}),(0,n.jsx)(g.A.Body,{style:{width:"84px","--bs-card-spacer-y":"0em","--bs-card-spacer-x":"0em",...y(r.song_info)},children:(0,n.jsx)(x.A,{striped:!0,bordered:!0,hover:!0,size:"sm",style:{marginBottom:0,marginTop:0,"--bs-card-spacer-x":"0em"},children:(0,n.jsx)("tr",{style:{lineHeight:"18px",cursor:"pointer",backgroundColor:"#ffffff",color:"#000000"},onClick:async()=>await u.event("主播","click_creator",`${t}`),children:r.creator.length>4?(0,n.jsx)("marquee",{className:"row g-0",children:(0,n.jsx)("small",{children:r.creator})}):(0,n.jsx)("small",{children:r.creator})})})})]})}function k(e){let{tickets:r}=e;r||(r=[]);var t=[];for(let e=0,n=0;e<r.length;e+=3,n++){let n=r.slice(e,e+3);t[e]=n}return(0,n.jsx)("div",{children:t&&t.map((e,r)=>(0,n.jsx)(h.A,{style:{width:"243px"},children:e.map((e,t)=>(0,n.jsx)(v,{ticket:e,index:t+r},r+t))},r))})}var A=t(5538);function w(e){let{messages:r}=e;return r||(r=[]),(0,n.jsx)(A.A,{as:"ul",style:{width:"243px"},children:r&&r.map((e,r)=>(0,n.jsxs)(A.A.Item,{as:"li",style:{paddingBlock:"unset",paddingLeft:"unset"},variant:e.content.startsWith("inf ")?"success":"danger",children:["\xa0",e.content.startsWith("inf ")?"✅":"❌"," \xa0",e.content.substring(4)]}))})}let C=()=>{let[e,r]=(0,s.useState)([]),[t,o]=(0,s.useState)([]),a=async()=>{try{let e=await u.tickets();r(e)}catch(e){console.log(e)}try{let e=await u.messages();o(e)}catch(e){console.log(e)}};return(0,s.useEffect)(()=>{let e=setInterval(()=>{a()},1e3);return()=>{clearInterval(e)}},[]),(0,n.jsx)(l.A,{fluid:!0,children:(0,n.jsx)(i.A,{children:(0,n.jsxs)(c.A,{xs:12,children:[(0,n.jsx)(k,{tickets:e}),(0,n.jsx)(w,{messages:t})]})})})};var _=t(1152),O=t(8220),S=t(565),I=t(9508),B=t(3906),$=t(8047),T=t(5190),N=t(5531);let z=()=>(0,n.jsx)($.A,{expand:"lg",className:"bg-body-tertiary",children:(0,n.jsxs)(l.A,{children:[(0,n.jsx)($.A.Brand,{href:"#home",children:"Wolfy点歌机"}),(0,n.jsx)($.A.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,n.jsx)($.A.Collapse,{id:"basic-navbar-nav",children:(0,n.jsx)(T.A,{className:"me-auto",children:(0,n.jsxs)(N.A,{title:"⚙️系统管理",id:"basic-nav-dropdown",children:[(0,n.jsx)(N.A.Divider,{}),(0,n.jsx)(N.A.Item,{href:"#action/3.4",onClick:async()=>await u.event("主播","reboot","0"),children:"重启"}),(0,n.jsx)(N.A.Item,{href:"#action/3.4",onClick:async()=>await u.event("主播","clear_all_data","0"),children:"清空全部数据"})]})})})]})}),E=()=>{let[e,r]=(0,s.useState)([]),[t,o]=(0,s.useState)([]),[a,d]=(0,s.useState)("点歌"),[f,h]=(0,s.useState)(""),g=async()=>{try{let e=await u.tickets();r(e)}catch(e){console.log(e)}try{let e=await u.messages();o(e)}catch(e){console.log(e)}};return(0,s.useEffect)(()=>{let e=setInterval(()=>{g()},1e3);return()=>{clearInterval(e)}},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)(z,{}),(0,n.jsx)("br",{}),(0,n.jsx)(l.A,{children:(0,n.jsx)(_.A.Container,{id:"list-group-tabs-example",defaultActiveKey:"#link1",children:(0,n.jsxs)(i.A,{children:[(0,n.jsx)(c.A,{sm:4,children:(0,n.jsxs)(O.A,{className:"mb-3",children:[(0,n.jsx)(S.A,{variant:"outline-secondary",title:a,id:"input-group-dropdown-1",children:(0,n.jsx)(I.A.Item,{onClick:()=>d("点歌"),children:"点歌"})}),(0,n.jsx)(B.A.Control,{onChange:e=>h(e.target.value),onKeyDown:async e=>{"Enter"===e.key&&""!==f&&await u.event("主播","pick",f)}})]})}),(0,n.jsxs)(c.A,{sm:8,children:[(0,n.jsx)(k,{tickets:e}),(0,n.jsx)(w,{messages:t})]})]})})})]})},P=document.getElementById("root");P&&o.createRoot(P).render((0,n.jsx)(s.StrictMode,{children:(0,n.jsx)(()=>(0,n.jsx)(a.Kd,{children:(0,n.jsxs)(a.BV,{children:[(0,n.jsx)(a.qh,{path:"/stage",element:(0,n.jsx)(C,{})}),(0,n.jsx)(a.qh,{path:"/static",element:(0,n.jsx)(E,{})})]})}),{})}))}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var t=o[e]={exports:{}};return s[e](t,t.exports,a),t.exports}a.m=s,a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],a.O=(r,t,n,s)=>{if(t){s=s||0;for(var o=e.length;o>0&&e[o-1][2]>s;o--)e[o]=e[o-1];e[o]=[t,n,s];return}for(var l=1/0,o=0;o<e.length;o++){for(var[t,n,s]=e[o],i=!0,c=0;c<t.length;c++)(!1&s||l>=s)&&Object.keys(a.O).every(e=>a.O[e](t[c]))?t.splice(c--,1):(i=!1,s<l&&(l=s));if(i){e.splice(o--,1);var d=n();void 0!==d&&(r=d)}}return r},r={410:0},a.O.j=e=>0===r[e],t=(e,t)=>{var n,s,[o,l,i]=t,c=0;if(o.some(e=>0!==r[e])){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var d=i(a)}for(e&&e(t);c<o.length;c++)s=o[c],a.o(r,s)&&r[s]&&r[s][0](),r[s]=0;return a.O(d)},(n=self.webpackChunkpickles_web=self.webpackChunkpickles_web||[]).forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n));var l=a.O(void 0,["783","535","354","471"],function(){return a(8176)});l=a.O(l)})();